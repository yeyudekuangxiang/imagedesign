DROP TABLE IF EXISTS `xz_admin`;
CREATE TABLE `xz_admin`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `roles_id` int(11) NULL DEFAULT NULL COMMENT '权限id',
  `uname` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '昵称',
  `realname` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '真实姓名',
  `password` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '密码',
  `status` tinyint(1) NOT NULL DEFAULT 1 COMMENT '状态 0-未开启,1-开启',
  `homepage_status` tinyint(1) NULL DEFAULT 0 COMMENT '主页展示状态，默认不展示',
  `last_login_ip` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '最近登录ip',
  `last_login_time` timestamp(0) NULL DEFAULT NULL COMMENT '最近登录时间',
  `deleted_at` timestamp(0) NULL DEFAULT NULL COMMENT '删除时间',
  `created_at` timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '添加时间',
  `updated_at` timestamp(0) NULL DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注',
  `position` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '职位',
  `main` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主要内容',
  `intro` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `avatar` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '' COMMENT '头像',
  `photo` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `app` char(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '' COMMENT '专业科目。XIAOFANG消防，REGISTERED_CONSTRUCTOR一建',
  `lecture_content` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主讲内容',
  `sort` int(11) NULL DEFAULT 0 COMMENT '排序',
  `wx_work_id` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '企业微信账号',
  `department` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '企业微信用户所在部门 逗号隔开',
  `tags` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户特别身份标签',
  `type` int(10) NULL DEFAULT 1 COMMENT '用户类型。1内部员工，2兼职老师，3业界大师',
  `master_title` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '大师头衔（大师课使用)',
  `assign_student_num` int(11) NULL DEFAULT 0 COMMENT '分配学员数',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `index_app`(`app`) USING BTREE,
  INDEX `index_uname`(`uname`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '后台登录用户表' ROW_FORMAT = Compact;

INSERT INTO `xz_admin` VALUES (1, NULL, '123', '123', '', 1, 0, NULL, NULL, NULL, '2020-09-28 10:50:00', NULL, NULL, NULL, NULL, NULL, '123', NULL, '', NULL, 0, '', '', '', 1, NULL, 0);


DROP TABLE IF EXISTS `xz_user`;
CREATE TABLE `xz_user`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `openid` char(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '微信公众平台标识',
  `unionid` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `intro` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '会员签名',
  `nickname` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '会员昵称',
  `realname` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '会员真名',
  `loginname` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '登录账号',
  `password` char(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '登陆密码',
  `avatar` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `sex` tinyint(4) NOT NULL DEFAULT 0 COMMENT '性别',
  `mobile` char(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '手机',
  `address` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '家庭地址',
  `create_time` int(11) NOT NULL COMMENT '创建时间',
  `update_time` int(11) NOT NULL DEFAULT 0 COMMENT '更新时间',
  `delete_time` int(11) NOT NULL DEFAULT 0 COMMENT '删除时间',
  `order_time` int(11) NULL DEFAULT NULL,
  `type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '会员类型 0-普通会员,1-VIP会员',
  `vip` tinyint(4) NOT NULL DEFAULT 0 COMMENT '是否付费 0-未付费,1-已付费',
  `unit_id` int(11) NOT NULL DEFAULT 0 COMMENT '单位 user_category.id',
  `job_id` int(11) NOT NULL DEFAULT 0 COMMENT '工作性质 user_category.id',
  `region_id` int(11) NOT NULL DEFAULT 0 COMMENT '工作区域 region.id',
  `weixin` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT ' ' COMMENT '微信号',
  `admin_id` int(11) NULL DEFAULT NULL COMMENT '指定老师 admin.id',
  `mini_up` tinyint(2) NULL DEFAULT 0,
  `fictitious_user` int(11) NOT NULL DEFAULT 0,
  `after_buy_auth` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '购买后获取的权限',
  `is_init_sync_auth` int(11) NOT NULL DEFAULT 0 COMMENT '是否通步过权限',
  `major_type` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'LEVEL_1' COMMENT '项目类型',
  `app` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'XIAOFANG' COMMENT '应用标识，每个小程序代表一个应用',
  `source` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'wx' COMMENT '服务商来源',
  `coupon_nums` int(11) NULL DEFAULT 0 COMMENT '未使用未到期的优惠券张数',
  `tags` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '标签',
  `first_visit_time` int(11) NULL DEFAULT NULL COMMENT '首次访问时间',
  `last_visit_time` int(11) NULL DEFAULT NULL COMMENT '最后访问时间',
  `birthday` date NULL DEFAULT NULL COMMENT '生日',
  `position` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '职位',
  `education` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '学历',
  `industry` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '行业',
  `graduation_major` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '专业',
  `graduation_time` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '毕业时间',
  `graduation_length` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '毕业时长',
  `province` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '省份',
  `city` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '城市',
  `company` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '公司',
  `age` int(11) NULL DEFAULT NULL COMMENT '年龄',
  `guid` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '新用户guid',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `openid_index`(`openid`) USING BTREE,
  INDEX `type_indx`(`type`) USING BTREE,
  INDEX `major_type_index`(`major_type`) USING BTREE,
  INDEX `unionid_index`(`unionid`) USING BTREE,
  INDEX `index_delete_time`(`delete_time`) USING BTREE,
  INDEX `app`(`app`) USING BTREE,
  INDEX `mobile_index`(`mobile`) USING BTREE,
  INDEX `index_nickname`(`nickname`(191)) USING BTREE,
  INDEX `delete_time_nickname`(`delete_time`, `nickname`(100)) USING BTREE,
  INDEX `delete_time_realname`(`delete_time`, `realname`(100)) USING BTREE,
  INDEX `app_major_type_last_visit_time_index`(`app`, `major_type`, `last_visit_time`) USING BTREE,
  INDEX `real_name`(`realname`) USING BTREE,
  INDEX `tags`(`tags`(191)) USING BTREE,
  INDEX `update_time`(`update_time`) USING BTREE,
  INDEX `guid`(`guid`) USING BTREE
) ENGINE = InnoDB  CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '用户表' ROW_FORMAT = Compact;

INSERT INTO `xz_user` VALUES (1, 'qweqwe', '123123', 'qwe', 'qwe', 'qwe', 'qwe', 'qwe', 'qweqweqwe', 0, NULL, '', 123, 123, 0, NULL, 0, 0, 0, 0, 0, ' ', NULL, 0, 0, '', 0, 'LEVEL_1', 'XIAOFANG', 'wx', 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '27c1c190-4c5f-42a1-aa2d-77298b97fe90');

